{% extends 'master.html' %}

{% load static from staticfiles %}

{% block title %} CoreM - Entradas {% endblock title %}

{% block css %}

<!-- Kendo -->
<link rel="stylesheet" href="{% static 'libs/plugins/kendo_2015_2_624/styles/kendo.rtl.min.css' %}"/>
<link rel="stylesheet" href="{% static 'libs/plugins/kendo_2015_2_624/styles/kendo.common-bootstrap.min.css' %}"/>
<link rel="stylesheet" href="{% static 'libs/plugins/kendo_2015_2_624/styles/kendo.bootstrap.min.css' %}"/>

<!-- Pace -->
<link rel="stylesheet" href="{% static 'libs/plugins/pace/pace.min.css' %}"/>

<!-- Select2 -->
<link rel="stylesheet" href="{% static 'libs/plugins/select2/select2.min.css' %}"/>

<!-- bootstrap datepicker -->
<link rel="stylesheet" href="{% static 'libs/plugins/datepicker/datepicker3.css' %}">

<!-- CoreM -->
<link rel="stylesheet" href="{% static 'grid.css' %}"/>

{% endblock css %}

{% block contenido %}
<!-- Content Header (Page header) -->
<section class="content-header">
	<h1>
	<span id="titulo">Entradas</span>
	<small>Nuevo</small>
	</h1>
	<ol class="breadcrumb">
		<li><a href="{% url 'seguridad.dashboard' %}"><i class="fa fa-home"></i> Inicio</a></li>
		<li><a href="{% url 'inventarios:entradas_lista' %}">Entradas</a></li>
		<li class="active">Nuevo</li>

	</ol>
</section>
<!-- Main content -->
<section class="content" id="contenido">
	<div class="row">
		<div class="col-md-12">
			<!-- Formulario -->
			<div class="box box-solid box-primary" id="id_panel">
				<div class="box-header with-border">
					<h3 class="box-title">Entrada</h3>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
					</div>
				</div>
				<!-- /.box-header -->
				<form role="form" action="" method="POST" enctype="multipart/form-data"> {% csrf_token %}
					<div class="box-body">
						
						<input type="hidden" id="id_cabecera" {% if id_cabecera %} value="{{ id_cabecera }}" {% else %} value="0" {% endif %}>
						
						<div class="row">
							<div class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1 {% if form.clave.field.required %} has-warning {% endif %} {% if form.clave.errors %} has-error {% endif %}">
								<label for="{{ form.clave.id_for_label }}">
								<i class="fa {% if form.clave.field.required %} fa-asterisk {% endif %} {% if form.clave.errors %} fa-circle-o {% endif %}"></i>
								Clave</label>
								{{ form.clave }}
								{% for error in form.clave.errors %}
								<span class="help-block">{{ error }}</span>
								{% endfor %}
							</div>
							<div class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1{% if form.descripcion.field.required %} has-warning {% endif %} {% if form.descripcion.errors %} has-error {% endif %}">
								<label for="{{ form.descripcion.id_for_label }}">
								<i class="fa {% if form.descripcion.field.required %} fa-asterisk {% endif %} {% if form.descripcion.errors %} fa-circle-o {% endif %}"></i>
								Descripci√≥n</label>
								{{ form.descripcion }}
								{% for error in form.descripcion.errors %}
								<span class="help-block">{{ error }}</span>
								{% endfor %}
							</div>
						</div>
						<div class="row">
							<div class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1 {% if form.fecha.field.required %} has-warning {% endif %} {% if form.fecha.errors %} has-error {% endif %} ">
								<label for="{{ form.fecha.id_for_label}}">
								<i class="fa {% if form.fecha.field.required %} fa-asterisk {% endif %} {% if form.fecha.errors %} fa-circle-o {% endif %}"></i>
								Fecha</label>
								<div class="form-group input-group">
					            	<div class="input-group-addon">
					                	<i class="fa fa-calendar"></i>
					            	</div>
					                {{ form.fecha }}
					            </div>
					            {% for error in form.fecha.errors %}
								    <span class="help-block">{{ error }}</span>
									{% endfor %}						
					        </div>
					        <div class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1 {% if form.almacen.field.required %} has-warning {% endif %} {% if form.almacen.errors %} has-error {% endif %}">
								<label for="{{ form.almacen.id_for_label }}">
								<i class="fa {% if form.almacen.field.required %} fa-asterisk {% endif %} {% if form.almacen.errors %} fa-circle-o {% endif %}"></i>
								Almacen</label>
								{{ form.almacen }}
								{% for error in form.almacen.errors %}
								<span class="help-block">{{ error }}</span>
								{% endfor %}
							</div>
						</div>
					</div>
					<!-- /.box-body -->
					<div class="box-footer">
						<a class="btn btn-default" href="{% url 'inventarios:entradas_lista' %}">
							<i class="fa fa-arrow-circle-left"></i>
							Regresar
						</a>

						<button type="submit" id="boton_guardar" class="btn btn-success pull-right">
							<i class="fa fa-save"></i>
							Guardar
						</button>
					</div>
				</form>
			</div>
			<!-- /.box -->
			<form>{% csrf_token%}
			<div id="formulario_detalle" class="box box-solid box-primary" id="id_panel">
				<div class="box-header with-border">
					<h3 class="box-title">Detalle</h3>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
					</div>
				</div>
				<!-- /.box-header -->
				<div class="box-body">
					<input type="hidden" id="cabecera" value="{{ id_cabecera }}" name="cabecera">
					<div class="row">
						<div id="articulo_contenedor" class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1 has-warning">
							<label for="articulo">
							<i class="fa fa-asterisk"></i>
							Articulo</label>
							<input type="text" class="form-control" name="articulo" id="id_articulo" >
							<!--<span class="help-block hidden" id="articulo_mensaje">Este campo es requerido.</span>-->			
					    </div>
					    <div id="cantidad_contenedor" class="form-group input-group-sm col-sx-12 col-sm-4 col-md-4 col-md-offset-1 has-warning">
							<label for="cantidad">
							<i class="fa fa-asterisk"></i>
							Cantidad</label>
							<input type="text" class="form-control" name="cantidad" id="id_cantidad">
							<span class="help-block hidden" id="cantidad_mensaje">Este campo es requerido.</span>
						</div>
					</div>
				</div>
					<!-- /.box-body -->
				<div class="box-footer">
					<button type="button" id="boton_guardar_detalle" class="btn btn-success pull-right">
						<i class="fa fa-save"></i>
						Guardar
					</button>
				</div>
			</div>
			</form>
			<div class="box box-info">
				<div class="box-header box-header-border">
					<h3 class="box-title">Articulos</h3>
					<div class="box-tools pull-right">
						<button type="button" id="boton_exportar" class="btn bg-olive btn-sm">
						<i class="fa fa-file-excel-o"></i>
						Exportar
						</button>
					</div>
				</div>
				<div id="grid_principal">
				</div>
			</div>
            <!-- /.box-body -->
          </div>
			<!-- /.box -->
		</div>
	</div>
</section>
<!-- /. Main content -->
{% endblock contenido %}

{% block scripts %}

<!-- Kendo Js -->
<script src="{% static 'libs/plugins/kendo_2015_2_624/js/cultures/kendo.culture.es-MX.min.js' %}"></script>
<script src="{% static 'libs/plugins/kendo_2015_2_624/js/kendo.web.min.js' %}"></script>

<!-- Select2 -->
<script src="{% static 'libs/plugins/select2/select2.full.min.js' %}"></script>

<!-- Pace -->
<script src="{% static 'libs/plugins/pace/pace.min.js' %}"></script>

<!-- Select2 -->
<script src="{% static 'libs/plugins/select2/select2.full.min.js' %}"></script>

<!-- bootstrap datepicker -->
<script src="{% static 'libs/plugins/datepicker/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'libs/plugins/datepicker/locales/bootstrap-datepicker.es.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>

<!-- CoreM -->
<script src="{% static 'entrada/formulario.js' %}"></script>

{% endblock scripts %}